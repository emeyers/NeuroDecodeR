<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>A basic datasource (DS) — ds_basic • NeuroDecodeR</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="A basic datasource (DS) — ds_basic"><meta property="og:description" content="The standard datasource used to get training and test splits of data."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">NeuroDecodeR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/introduction_tutorial.html">Introductory tutorial</a>
    </li>
    <li>
      <a href="../articles/generalization_tutorial.html">Generalization analysis tutorial</a>
    </li>
  </ul></li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Documentation
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/data_formats.html">Data formats</a>
    </li>
    <li>
      <a href="../articles/datasets.html">Datasets</a>
    </li>
    <li>
      <a href="../articles/NDR_object_specification.html">NDR object specification</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/emeyers/NeuroDecodeR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>A basic datasource (DS)</h1>
    <small class="dont-index">Source: <a href="https://github.com/emeyers/NeuroDecodeR/blob/HEAD/R/ds_basic.R" class="external-link"><code>R/ds_basic.R</code></a></small>
    <div class="hidden name"><code>ds_basic.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The standard datasource used to get training and test splits of data.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ds_basic</span><span class="op">(</span></span>
<span>  <span class="va">binned_data</span>,</span>
<span>  <span class="va">labels</span>,</span>
<span>  <span class="va">num_cv_splits</span>,</span>
<span>  use_count_data <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  num_label_repeats_per_cv_split <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  label_levels <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  num_resample_sites <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  site_IDs_to_use <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  site_IDs_to_exclude <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  randomly_shuffled_labels <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  create_simultaneous_populations <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>binned_data</dt>
<dd><p>A string that list a path to a file that has data in
binned format, or a data frame of binned_data that is in binned format.</p></dd>


<dt>labels</dt>
<dd><p>A string specifying the name of the labels that should
be decoded. This label must be one of the columns in the binned data that
starts with 'label.'. For example, if there was a column name in a binned
data file called labels.stimulus_ID that you wanted to decode, then you
would set this argument to be "stimulus_ID".</p></dd>


<dt>num_cv_splits</dt>
<dd><p>A number specifying how many cross-validation splits
should be used.</p></dd>


<dt>use_count_data</dt>
<dd><p>If the binned data is neural spike counts, then setting
use_count_data = TRUE will convert the data into spike counts. This is
useful for classifiers that work on spike count data, e.g., the
poisson_naive_bayes_CL.</p></dd>


<dt>num_label_repeats_per_cv_split</dt>
<dd><p>A number specifying how many times each
label should be repeated in each cross-validation split.</p></dd>


<dt>label_levels</dt>
<dd><p>A vector of strings specifying specific label
levels that should be used. If this is set to NULL then all label levels
available will be used.</p></dd>


<dt>num_resample_sites</dt>
<dd><p>The number of sites that should be randomly
selected when constructing training and test vectors. This number needs to
be less than or equal to the number of sites available that have
num_cv_splits * num_label_repeats_per_cv_split repeats.</p></dd>


<dt>site_IDs_to_use</dt>
<dd><p>A vector of integers specifying which sites should be
used. If this is NULL (default value), then all sites that have
num_cv_splits * num_label_repeats_per_cv_split repeats will be used, and
a message about how many sites are used will be displayed.</p></dd>


<dt>site_IDs_to_exclude</dt>
<dd><p>A vector of integers specifying which sites should
be excluded.</p></dd>


<dt>randomly_shuffled_labels</dt>
<dd><p>A Boolean specifying whether the labels
should be shuffled prior to running an analysis (i.e., prior to the first
call to the the get_data() method). This is used when one wants to create a
null distribution for comparing when decoding results are above chance.</p></dd>


<dt>create_simultaneous_populations</dt>
<dd><p>If the data from all sites
was recorded simultaneously, then setting this variable to 1 will cause the
get_data() function to return simultaneous populations rather than
pseudo-populations.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>This constructor creates an NDR datasource object with the class
<code>ds_basic</code>. Like all NDR datasource objects, this datasource will be used
by the cross-validator to generate training and test data sets.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This 'basic' datasource is the datasource that will most commonly be used for
most analyses. It can generate training and tests sets for data that has been
recorded simultaneously or pseudo-populations for data that was not recorded
simultaneously.</p>
<p>Like all datasources, this datasource takes binned format data and has a
<code><a href="get_data.html">get_data()</a></code> method that is never explicitly called by the user of the
package, but rather it is called internally by a cross-validation object to
get training and testing splits of data that can be passed to a classifier.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other datasource: 
<code><a href="ds_generalization.html">ds_generalization</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># A typical example of creating a datasource to be passed cross-validation object</span></span></span>
<span class="r-in"><span><span class="va">data_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"ZD_150bins_50sampled.Rda"</span><span class="op">)</span>, package <span class="op">=</span> <span class="st">"NeuroDecodeR"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="fu">ds_basic</span><span class="op">(</span><span class="va">data_file</span>, <span class="st">"stimulus_ID"</span>, <span class="fl">18</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Automatically selecting sites_IDs_to_use. Since num_cv_splits = 18 and num_label_repeats_per_cv_split = 1, all sites that have 18 repetitions have been selected. This yields 132 sites that will be used for decoding (out of 132 total).</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># If one has many repeats of each label, decoding can be faster if one</span></span></span>
<span class="r-in"><span><span class="co"># uses fewer CV splits and repeats each label multiple times in each split.</span></span></span>
<span class="r-in"><span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="fu">ds_basic</span><span class="op">(</span><span class="va">data_file</span>, <span class="st">"stimulus_ID"</span>, <span class="fl">6</span>,</span></span>
<span class="r-in"><span>  num_label_repeats_per_cv_split <span class="op">=</span> <span class="fl">3</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Automatically selecting sites_IDs_to_use. Since num_cv_splits = 6 and num_label_repeats_per_cv_split = 3, all sites that have 18 repetitions have been selected. This yields 132 sites that will be used for decoding (out of 132 total).</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># One can specify a subset of labels levels to be used in decoding. Here</span></span></span>
<span class="r-in"><span><span class="co">#  we just do a three-way decoding analysis between "car", "hand" and "kiwi".</span></span></span>
<span class="r-in"><span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="fu">ds_basic</span><span class="op">(</span><span class="va">data_file</span>, <span class="st">"stimulus_ID"</span>, <span class="fl">18</span>,</span></span>
<span class="r-in"><span>  label_levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"car"</span>, <span class="st">"hand"</span>, <span class="st">"kiwi"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Automatically selecting sites_IDs_to_use. Since num_cv_splits = 18 and num_label_repeats_per_cv_split = 1, all sites that have 18 repetitions have been selected. This yields 132 sites that will be used for decoding (out of 132 total).</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># One never explicitly calls the get_data() function, but rather this is</span></span></span>
<span class="r-in"><span><span class="co"># called by the cross-validator. However, to illustrate what this function</span></span></span>
<span class="r-in"><span><span class="co"># does, we can call it explicitly here to get training and test data:</span></span></span>
<span class="r-in"><span><span class="va">all_cv_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="get_data.html">get_data</a></span><span class="op">(</span><span class="va">ds</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">all_cv_data</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] "train_labels" "test_labels"  "time_bin"     "site_0001"    "site_0002"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [6] "site_0003"    "site_0004"    "site_0005"    "site_0006"    "site_0007"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [11] "site_0008"    "site_0009"    "site_0010"    "site_0011"    "site_0012"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [16] "site_0013"    "site_0014"    "site_0015"    "site_0016"    "site_0017"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [21] "site_0018"    "site_0019"    "site_0020"    "site_0021"    "site_0022"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [26] "site_0023"    "site_0024"    "site_0025"    "site_0026"    "site_0027"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [31] "site_0028"    "site_0029"    "site_0030"    "site_0031"    "site_0032"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [36] "site_0033"    "site_0034"    "site_0035"    "site_0036"    "site_0037"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [41] "site_0038"    "site_0039"    "site_0040"    "site_0041"    "site_0042"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [46] "site_0043"    "site_0044"    "site_0045"    "site_0046"    "site_0047"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [51] "site_0048"    "site_0049"    "site_0050"    "site_0051"    "site_0052"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [56] "site_0053"    "site_0054"    "site_0055"    "site_0056"    "site_0057"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [61] "site_0058"    "site_0059"    "site_0060"    "site_0061"    "site_0062"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [66] "site_0063"    "site_0064"    "site_0065"    "site_0066"    "site_0067"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [71] "site_0068"    "site_0069"    "site_0070"    "site_0071"    "site_0072"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [76] "site_0073"    "site_0074"    "site_0075"    "site_0076"    "site_0077"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [81] "site_0078"    "site_0079"    "site_0080"    "site_0081"    "site_0082"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [86] "site_0083"    "site_0084"    "site_0085"    "site_0086"    "site_0087"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [91] "site_0088"    "site_0089"    "site_0090"    "site_0091"    "site_0092"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [96] "site_0093"    "site_0094"    "site_0095"    "site_0096"    "site_0097"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [101] "site_0098"    "site_0099"    "site_0100"    "site_0101"    "site_0102"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [106] "site_0103"    "site_0104"    "site_0105"    "site_0106"    "site_0107"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [111] "site_0108"    "site_0109"    "site_0110"    "site_0111"    "site_0112"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [116] "site_0113"    "site_0114"    "site_0115"    "site_0116"    "site_0117"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [121] "site_0118"    "site_0119"    "site_0120"    "site_0121"    "site_0122"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [126] "site_0123"    "site_0124"    "site_0125"    "site_0126"    "site_0127"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [131] "site_0128"    "site_0129"    "site_0130"    "site_0131"    "site_0132"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [136] "CV_1"         "CV_2"         "CV_3"         "CV_4"         "CV_5"        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [141] "CV_6"         "CV_7"         "CV_8"         "CV_9"         "CV_10"       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [146] "CV_11"        "CV_12"        "CV_13"        "CV_14"        "CV_15"       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [151] "CV_16"        "CV_17"        "CV_18"       </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Ethan Meyers.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

