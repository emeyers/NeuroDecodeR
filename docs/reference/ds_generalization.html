<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>A datasource (DS) that allows training and testing on different but related labels — ds_generalization • NeuroDecodeR</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="A datasource (DS) that allows training and testing on different but related labels — ds_generalization"><meta property="og:description" content="This datasource is useful for assessing whether information is
invariant/abstract to particular conditions."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">NeuroDecodeR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/introduction_tutorial.html">Introductory tutorial</a>
    </li>
    <li>
      <a href="../articles/generalization_tutorial.html">Generalization analysis tutorial</a>
    </li>
  </ul></li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Documentation
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/data_formats.html">Data formats</a>
    </li>
    <li>
      <a href="../articles/datasets.html">Datasets</a>
    </li>
    <li>
      <a href="../articles/NDR_object_specification.html">NDR object specification</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/emeyers/NeuroDecodeR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>A datasource (DS) that allows training and testing on different but related labels</h1>
    <small class="dont-index">Source: <a href="https://github.com/emeyers/NeuroDecodeR/blob/HEAD/R/ds_generalization.R" class="external-link"><code>R/ds_generalization.R</code></a></small>
    <div class="hidden name"><code>ds_generalization.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This datasource is useful for assessing whether information is
invariant/abstract to particular conditions.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ds_generalization</span><span class="op">(</span></span>
<span>  <span class="va">binned_data</span>,</span>
<span>  <span class="va">labels</span>,</span>
<span>  <span class="va">num_cv_splits</span>,</span>
<span>  <span class="va">train_label_levels</span>,</span>
<span>  <span class="va">test_label_levels</span>,</span>
<span>  use_count_data <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  num_label_repeats_per_cv_split <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  num_resample_sites <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  site_IDs_to_use <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  site_IDs_to_exclude <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  randomly_shuffled_labels <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  create_simultaneous_populations <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>binned_data</dt>
<dd><p>A string that list a path to a file that has data in
binned format, or a data frame of binned_data that is in binned format.</p></dd>


<dt>labels</dt>
<dd><p>A string specifying the name of the labels that
should be decoded. This label must be one of the columns in the binned
data that starts with 'label.'</p></dd>


<dt>num_cv_splits</dt>
<dd><p>A number specifying how many cross-validation splits
should be used.</p></dd>


<dt>train_label_levels</dt>
<dd><p>A list that contains vectors specifying which label
levels belong to which training class. Each element in the list corresponds
to a class that the specified training labels will be mapped to. For
example, values in the vector in the first element in the list will be
mapped onto the first training class, etc.</p></dd>


<dt>test_label_levels</dt>
<dd><p>A list that contains vectors specifying which label
levels belong to which test class. Each element in the list corresponds to
a class that the specified test labels will be mapped to. For example,
values in the vector in the first element in the list will be mapped onto
the first test class, etc. The number of elements in this list must be the
same as the number of elements in <code>train_label_levels</code>.</p></dd>


<dt>use_count_data</dt>
<dd><p>If the binned data is neural spike counts, then setting
use_count_data = TRUE will convert the data into spike counts. This is
useful for classifiers that work on spike count data, e.g., the
poisson_naive_bayes_CL.</p></dd>


<dt>num_label_repeats_per_cv_split</dt>
<dd><p>A number specifying how many times each
label level should be repeated in each cross-validation split.</p></dd>


<dt>num_resample_sites</dt>
<dd><p>The number of sites that should be randomly
selected when constructing training and test vectors. This number needs to
be less than or equal to the number of sites available that have
num_cv_splits * num_label_repeats_per_cv_split repeats.</p></dd>


<dt>site_IDs_to_use</dt>
<dd><p>A vector of integers specifying which sites should be
used.</p></dd>


<dt>site_IDs_to_exclude</dt>
<dd><p>A vector of integers specifying which sites should
be excluded.</p></dd>


<dt>randomly_shuffled_labels</dt>
<dd><p>A Boolean specifying whether the labels
should be shuffled prior to running an analysis (i.e., prior to the first
call to the the get_data() method). This is used when one wants to create a
null distribution for comparing when decoding results are above chance.</p></dd>


<dt>create_simultaneous_populations</dt>
<dd><p>If the data from all sites
were recorded simultaneously, then setting this variable to 1 will cause the
get_data() function to return simultaneous populations rather than
pseudo-populations.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>This constructor creates an NDR datasource object with the class
<code>ds_generalization</code>. Like all NDR datasource objects, this datasource will
be used by the cross-validator to generate training and test data sets.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Like all datasources, this datasource takes binned format data
and has a get_data() method that is called by a cross-validation object to
get training and testing splits of data that can be passed to a classifier.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other datasource: 
<code><a href="ds_basic.html">ds_basic</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># One can test if a neural population contains information that is position</span></span></span>
<span class="r-in"><span><span class="co"># invariant by generating training data for objects presented at 'upper' and 'middle'</span></span></span>
<span class="r-in"><span><span class="co"># locations, and generating test data at a 'lower' location.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">id_levels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"hand"</span>, <span class="st">"flower"</span>, <span class="st">"guitar"</span>, <span class="st">"face"</span>, <span class="st">"kiwi"</span>, <span class="st">"couch"</span>, <span class="st">"car"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">train_label_levels</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="va">test_label_levels</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">id_levels</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">train_label_levels</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">id_levels</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, <span class="st">"upper"</span>, sep <span class="op">=</span> <span class="st">"_"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">id_levels</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, <span class="st">"middle"</span>, sep <span class="op">=</span> <span class="st">"_"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">test_label_levels</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">id_levels</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, <span class="st">"lower"</span>, sep <span class="op">=</span> <span class="st">"_"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">data_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/ZD_150bins_50sampled.Rda"</span>, package <span class="op">=</span> <span class="st">"NeuroDecodeR"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="fu">ds_generalization</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">data_file</span>,</span></span>
<span class="r-in"><span>  <span class="st">"combined_ID_position"</span>, <span class="fl">18</span>,</span></span>
<span class="r-in"><span>  <span class="va">train_label_levels</span>,</span></span>
<span class="r-in"><span>  <span class="va">test_label_levels</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Automatically selecting sites_IDs_to_use. Since num_cv_splits = 18 and num_label_repeats_per_cv_split = 1, all sites that have 18 repetitions have been selected. This yields 132 sites that will be used for decoding (out of 132 total).</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Ethan Meyers.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

